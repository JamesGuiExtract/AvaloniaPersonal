<html>

<head>
<title>File Action Manager Scalability Tests</title>
<link type="text/css" rel="stylesheet" href="../../../../ReusableComponents/COMComponents/UCLIDTestingFramework/Misc/UCLIDTesting.css">
</head>

<body>

<h1>File Action Manager Scalability Tests<br>
<img src="../../../../ReusableComponents/COMComponents/UCLIDTestingFramework/Misc/TestingChecklistHeader.gif">
</h1>
<hr>
<p>
* ID Shield and Extract Systems LM should be installed and licensed for these tests. It is not necessary 
to install FLEX Index.
<ol>
<li><h2>Test #1 - Thread Scalability</h2>
<ul>
	<li><b>Purpose & Machine Setup</b>
	<ul>
		<li>Measure the linear scalability of ID Shield processing on a multi-core server 
		(i.e. <b>UltraTester</b>) as the number of threads is increased.
		<li>Select a different test machine to serve as the image host and the database host.
		<li>Select a folder of customer images to process.  
		<li>Duplicate the files as needed on the image host so that auto-redaction processing 
		of pre-queued files requires between one and two days for <b>a single thread</b>.
		<li>Confirm that the rules to be tested have been validated for the tested build.
		<li>Copy and unzip the rules.
		<li>Confirm that a <b>local</b> USB key is available.
	</ul>
<p>
	<li><b>Database Setup</b>
	<ul>
		<li>Create a <b>SCALABILITY_TEST</b> database on the database host machine.
		<li>Add a <b>Process</b> action.
		<li>Queue the files.  Note that the files must be queued via UNC path or via a mapped 
		drive.
	</ul>
<p>
	<li><b>Test Execution</b>
	<ul>
		<li>Reset the database back to a files queued state.
		<ul>
			<li>Delete the record in the <b>ActionStatistics</b> table.
			<li>Delete the records in the <b>FileActionStateTransition</b> table using 
			a <b>DELETE FROM FileActionStateTransition</b> query within SQL 
			Management Studio.
		</ul>
		<li>Create a Processing FPS file using the desired number of processing threads.  
		Use the appropriate rule set with <b>Core: Execute rules</b> and <b>Redaction: 
		Create redacted image</b> tasks.
		<li>Reboot the server test machine.
		<li>Start processing.
	</ul>
<p>
	<li><b>Test Results</b>
	<ul>
		<li>Record the starting and ending processing times in an appropriate spreadsheet.
		<li>Create a chart to display ID Shield processing rate in <b>pages per day</b> against 
		the <b>number of processing threads</b>.
		<li>The expected result is a graph that is linear up to almost the number of 
		available threads.  As the number of threads continues to increase the improvement 
		in overall processing rate slows down.  Eventually, the overhead associated with 
		an increased number of threads will start reducing the performance.
	</ul>
</ul>
<p>
<li><h2>Test #2 - Machine Scalability</h2>
<ul>
	<li><b>Purpose & Machine Setup</b>
	<ul>
		<li>Measure the linear scalability of ID Shield processing on multiple quad-core  
		test machines (i.e. <b>HPQCx</b>) as the number of machines is increased.
		<li>Select one non-processing test machine to serve as the image host and the 
		database host.
		<li>Select a folder of customer images to process.  
		<li>Duplicate the files as needed on the image host so that auto-redaction processing 
		of pre-queued files requires between one and two days for <b>a single machine</b>.
		<li>Confirm that the rules to be tested have been validated for the tested build.
		<li>For each processing machine:
		<ul>
			<li>Copy and unzip the rules.
			<li>Create a Processing FPS file.  Use the appropriate rule set with <b>Core: 
			Execute rules</b> and <b>Redaction: Create redacted image</b> tasks.
			<li>Confirm that a <b>local</b> USB key is available.
		</ul>
	</ul>
<p>
	<li><b>Database Setup</b>
	<ul>
		<li>Create a <b>SCALABILITY_TEST</b> database on the database host machine.
		<li>Add a <b>Process</b> action.
		<li>Queue the files.  Note that the files must be queued via UNC path or via a mapped 
		drive.
	</ul>
<p>
	<li><b>Test Execution</b>
	<ul>
		<li>Reset the database back to a files queued state.
		<ul>
			<li>Delete the record in the <b>ActionStatistics</b> table.
			<li>Delete the records in the <b>FileActionStateTransition</b> table using 
			a <b>DELETE FROM FileActionStateTransition</b> query within SQL 
			Management Studio.
		</ul>
		<li>Reboot each test machine.
		<li>Start processing on each test machine.
	</ul>
<p>
	<li><b>Test Results</b>
	<ul>
		<li>Record the starting and ending processing times in an appropriate spreadsheet.
		<li>Create a chart to display ID Shield processing rate in <b>pages per day</b> against 
		the <b>number of processing machines</b>.
		<li>The expected result is a linear graph.  As the number of machines continues 
		to increase the improvement in overall processing rate may slow down due to the 
		overhead associated with additional database connections.
	</ul>
</ul>
<p>
<li><h2>Test #3 - Maximum Server Processing Rate</h2>
<ul>
	<li><b>Purpose & Machine Setup</b>
	<ul>
		<li>Determine the absolute maximum processing rate for ID Shield on a multi-core server 
		(i.e. <b>UltraTester</b>) by modifying the number of FAM instances and the number 
		of threads.
		<li>Compute processing rates for many different combinations and note the 
		combination with the highest overall processing rate.
		<li>Select a different test machine to serve as the image host and the database host.
		<li>Select a folder of customer images to process.  
		<li>Duplicate the files as needed on the image host so that auto-redaction processing 
		of pre-queued files requires about two days for <b>a single FAM instance with a single 
		thread</b>.
		<li>Confirm that the rules to be tested have been validated for the tested build.
		<li>Copy and unzip the rules.
		<li>Confirm that a <b>local</b> USB key is available.
	</ul>
<p>
	<li><b>Database Setup</b>
	<ul>
		<li>Create a <b>SCALABILITY_TEST</b> database on the database host machine.
		<li>Add a <b>Process</b> action.
		<li>Queue the files.  Note that the files must be queued via UNC path or via a mapped 
		drive.
	</ul>
<p>
	<li><b>Test Execution</b>
	<ul>
		<li>Reset the database back to a files queued state.
		<ul>
			<li>Delete the record in the <b>ActionStatistics</b> table.
			<li>Delete the records in the <b>FileActionStateTransition</b> table using 
			a <b>DELETE FROM FileActionStateTransition</b> query within SQL 
			Management Studio.
		</ul>
		<li>Create a Processing FPS file using the desired number of processing threads.  
		Use the appropriate rule set with <b>Core: Execute rules</b> and <b>Redaction: 
		Create redacted image</b> tasks.
		<li>Reboot the server test machine.
		<li>Open the desired number of FAM instances.
		<li>Start processing.
	</ul>
<p>
	<li><b>Test Results</b>
	<ul>
		<li>Record the starting and ending processing times in an appropriate spreadsheet.
		<li>The expected result is a table that shows a peak performance for each 
		selected number of threads or number of FAM instances.
		<li>One combination will be absolute maximum processing rate.
	</ul>
</ul>
</ol>
</body>
</html>
