<html>
<head>
<title>Memory Leak Testing - Rules</title>
	<link type="text/css" rel="stylesheet" href="../../../../ReusableComponents/COMComponents/UCLIDTestingFramework/Misc/UCLIDTesting.css">
</head>
<body>
	<h1>Memory Leak Testing - Rule Objects<br>
	<IMG src="../../../../ReusableComponents/COMComponents/UCLIDTestingFramework/Misc/TestingChecklistHeader.gif">
	</h1>	
<hr>
<h2>NOTE: All tests require installation and licensure of the Rule Development Toolkit.</h2>

<ol>
	<li><b>General Instructions</b>
	<ul>
		<li>Each test specified below should be run as an individual 
		instance of the <b>File Action Manager</b>.
		<li><b>No</b> other File Action Manager instances should be run during the test.
		<li>Please note the <b>machine name</b> and the <b>operating system</b>.
		<li>Update the system PATH to include <b>I:\Common\Engineering\Tools\Utils</b>.
		The \\fnp\internal folder may instead be mapped to drive P:.
	</ul>
<p>
	<li><b>Database Instructions - If Needed</b>
	<ul>
		<li>Use the <b>DB Administration</b> utility to create a local 
		MEMORY_LEAK database.  The server name should be <b>(local)</b>.
		<li>Log in and add a <b>Test</b> action to the database.
	</ul>
<p>
	<li><b>Memory Leak Test Instructions</b>
	<ul>
		<li>Clear the database from the <b>DB Administration</b> utility before each test 
		if running additional Memory Leak tests on the same machine.
		<li>Add a <b>Test</b> action to the database.
		<li>Open an Explorer window and navigate to the 
		<b>AttributeFinder\<i>Object_Type</i>\AutomatedTest\<i>Rule_Object</i></b> folder.
		<li>Double click the associated <b>ExecuteTest_<i>N</i>.bat</b> batch file.
		<li>Wait until the various command windows have opened and the 
		File Action Manager has started processing.  It may be necessary in some 
		cases to execute the batch file commands manually.
<p>
		<li>Review after test completion: 
		<ul>
			<li><u>File Action Manager processing results</u>.  Some tests expect 
			many or all files to fail.  Some tests expect zero failures.
			<li><u>Memory and handle usage</u>.  
			<ul>
				<li>Open 
				<b>I:\Common\Engineering\Tools\Utils\LogProcessStats\ImportData.xls</b>.
				<li>Use <b>Ctrl+Shift+I</b> to import the 
				ProcessFiles.NNNN.csv file.
				<li>Use <b>Ctrl+Shift+I</b> to import the cpu.csv file.
				<li>Review the charts on the other tabs.
				<li>Save the <b>LogProcessStats</b> results as noted below.
			</ul>
			<li><u>Error logs</u>.  
			<ul>
				<li>Use UEXViewer.exe to review the exception logs.
				<li>Save the <b>Exception log(s)</b> if any interesting 
				errors were noted.
			</ul>
			<li>Save the <b>Database</b> if any errors occurred.
		</ul>
	</ul>
<p>
	<li><b>Data Collection and Archiving</b>
	<ul>
		<li>The batch file associated with each memory leak test 
		includes running an instance of LogProcessStats to record 
		memory and handle usage.
		<li>Data will be stored in subfolders under 
		I:\Common\Testing\Product Testing\FLEX_Index_80\MemoryLeakTests\RuleObjects.
		<li>Subfolders exist for each object type:
		<ul>
			<li>AFConditions
			<li>AttributeSplitters
			<li>InputValidators
			<li>OutputHandlers
			<li>Preprocessors
			<li>ValueFinders
			<li>ValueModifiers
		</ul>
		<li>Create subfolders for the specific rule object 
		( i.e. <b>StringTokenizerSplitter</b> ) and the test number ( i.e. <b>Test_1</b> ) 
		if they do not already exist.
		<li>Contents of the <b>Stats</b> folder should be copied to a <b>YYYY-MM-DD</b> 
		named subfolder under the test number folder for the associated 
		task object subfolder.
		<li>One or more Exception logs can be stored in a <b>UEX_Logs</b> subfolder.
		This is useful if any unexpected errors are noticed during review. 
		<li>SQL Server Management Studio can be used to backup the MEMORY_LEAK 
		database files to a <b>Database</b> subfolder.
		<li>An example path for a particular test is: <br>
<b>I:\Common\Testing\Product Testing\FLEX_Index_80\MemoryLeakTests\RuleObjects\AttributeSplitters\StringTokenizerSplitter\Test_1\2007-10-30</b>.
		<li>Copy and update a <b>TestDetails.txt</b> file in the Test_N folder.
		This file will contain a summary of the test environment and results.
	</ul>
<p>
	<li><b>Object List</b>
	<ul>
		<li>See 
		<b>\AttributeFinder\Testing\MemoryLeakTesting\MemoryLeak_Testing_Progress.xls</b> 
		for the original object list.</li>
		<li>See 
		<b>I:\Common\Testing\Product Testing\FLEX_Index_80\80_MemoryLeak_Testing_Progress.xls</b> 
		for progress details.</li>
	</ul>
</ol>
</body> 
</html>
