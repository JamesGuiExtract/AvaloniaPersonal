<html>
<head>
<TITLE>FAM Service Testing Checklist</TITLE>
<link type="text/css" rel="stylesheet" href="../../../../../ReusableComponents/COMComponents/UCLIDTestingFramework/Misc/UCLIDTesting.css">
</head>
<body>

<h1>Running File Action Manager as a Service<br>
<IMG src="../../../../../ReusableComponents/COMComponents/UCLIDTestingFramework/Misc/TestingChecklistHeader.gif">
</h1>	
<hr>
<p>
The following tests requires two or more machines. See associated instructions for preparing machines 
for use with <b>SQL Server 2005</b> or <b>SQL Server 2008</b>.  The machines that run the service are 
called the <b>service machine</b>.  The machine that contains the database is referred to as the 
<b>database machine</b>.
<p>
<ul>
	<li><b>Rules, Images, and FPS files</b>
	<ul>
		<li><b>FLEX Index</b>
		<ul>
			<li>Make a local copy of <b>CT - Manchester - Cott</b> TIF images from 
			Set002.
			<li>Make a local copy of the most recent <b>CT - Manchester - Cott</b> 
			Indexing rules delivery.
<p>
			<li>Create a <b>Queuing</b> FPS file to supply the images for processing.  
			Use a UNC path for the Folder file supplier.
			<li>Create a <b>Listening</b> FPS file to supply existing images for processing.  
			Also define a second supplier to listen to a folder. Use UNC paths for 
			the Folder file suppliers.
			<li>Create a <b>Processing</b> FPS file to process the images.  Use a 
			<b>Core: Execute rules</b> task.
<p>
			<li>Use the <b>SQL CE Editor</b> to add the FPS files to the 
			<b>TBD</b> database.
			<li>Activate the FPS files appropriate for the test to be executed.
		</ul>
		<li><b>ID Shield</b>
		<ul>
			<li>Make a local copy of <b>IL - Lake - Cott</b> TIF images from 
			Set002.
			<li>Make a local copy of the most recent <b>IL - Lake - Cott</b> 
			Redaction rules delivery.
<p>
			<li>Create a <b>Queuing</b> FPS file to supply the images for processing.  
			Use a UNC path for the Folder file supplier.
			<li>Create a <b>Listening</b> FPS file to supply existing images for 
			processing.  Also define a second supplier to listen to a folder. Use UNC 
			paths for the Folder file suppliers.
			<li>Create a <b>Processing</b> FPS file to process the images.  Use a 
			<b>Core: Execute rules</b> task and a <b>Redaction: Create redacted 
			image</b> task.
<p>
			<li>Use the <b>SQL CE Editor</b> to add the FPS files to the 
			<b>TBD</b> database.
			<li>Activate the FPS files appropriate for the test to be executed.
		</ul>
	</ul>
	</li>
<p>
	<li><b>FLEX Index Basic: Local system user, single machine</b>
	<ul>
		<li>Confirm on the database machine that the database is clear.
		<li>Set the FLEX Index <b>Queuing</b> and <b>Processing</b> FPS files to AutoStart.
		<li>Set the service startup type to <b>Automatic</b>.
		<li>Restart the <b>service machine</b>.  Do not login.</li>
		<li>Using a different machine, open up a FAM instance connected to 
		the processing database and activate the <b>Statistics</b> tab.</li>
		<li>Confirm that files are queuing and processing.</li>
<p>
		<li>Login to the <b>service machine</b>.</li>
		<li>Confirm via <b>Task Manager</b> that the following instances are active:
		<ul> 
			<li><b>ESFAMProcess.exe</b> - one instance for the service
			<li><b>FAMProcess.exe</b> - one instance for the Queuing FPS file
			<li><b>FAMProcess.exe</b> - one instance for the Processing FPS file
		</ul> 
		<li>Stop the service from the <b>Services</b> management console.
		<li>If queuing has not finished on its own, confirm that it stops 
		immediately.
		<li>Confirm that processing stops gracefully as soon as the currently 
		processing files are finished.
		<li>Confirm via <b>Task Manager</b> that none of the above EXEs are 
		continuing to run.
		<li>Confirm via <b>DB Admin</b> that no files are left in <b>Processing</b> 
		mode.
	</ul>
	</li>
<p>
	<li><b>ID Shield Basic: Local system user, single machine</b>
	<ul>
		<li>Confirm on the database machine that the database is clear.
		<li>Set the ID Shield <b>Queuing</b> and <b>Processing</b> FPS files to AutoStart.
		<li>Set the service startup type to <b>Automatic</b>.
		<li>Restart the <b>service machine</b>.</li>
		<li>Using a different machine, open up a FAM instance connected to 
		the processing database and activate the <b>Statistics</b> tab.</li>
		<li>Confirm that files are queuing and processing.</li>
		<li>Confirm that redacted images are being created.</li>
<p>
		<li>Login to the <b>service machine</b>.</li>
		<li>Confirm via <b>Task Manager</b> that the following instances are active:
		<ul> 
			<li><b>ESFAMProcess.exe</b> - one instance for the service
			<li><b>FAMProcess.exe</b> - one instance for the Queuing FPS file
			<li><b>FAMProcess.exe</b> - one instance for the Processing FPS file
		</ul> 
		<li>Stop the service from the <b>Services</b> management console.
		<li>If queuing has not finished on its own, confirm that it stops 
		immediately.
		<li>Confirm that processing stops gracefully as soon as the currently 
		processing files are finished.
		<li>Confirm via <b>Task Manager</b> that none of the above EXEs are 
		continuing to run.
		<li>Confirm via <b>DB Admin</b> that no files are left in <b>Processing</b> 
		mode.
	</ul>
	</li>
<p>
	<li><b>FLEX Index Complex:</b>
	<ul>
		<li><b>Local system user, listening for supplied files</b>
		<ul>
			<li>TBD
		</ul>
		<li><b>Domain user, non-UNC path for supplying</b>
		<ul>
			<li>TBD
		</ul>
	</ul>
	</li>
<p>
	<li><b>ID Shield Complex:</b>
	<ul>
		<li><b>Local system users, two machines</b>
		<ul>
			<li>TBD
		</ul>
		<li><b>Local system user, scheduled processing</b>
		<ul>
			<li>TBD
		</ul>
		<li><b>Local system user, stop service during processing of large file</b>
		<ul>
			<li>TBD
		</ul>
	</ul>
	</li>
<p>
	<li><b>Error Handling:</b>
	<ul>
		<li><b>Run multiple FPS files, then kill some</b>
		<ul>
			<li>Confirm on the database machine that the database is clear.
			<li>Create four or more FPS files configured for AutoStart.
			<li>Set the service startup type to <b>Automatic</b>.
			<li>Restart the <b>service machine</b>.</li>
			<li>Confirm that files are processing.</li>
			<li>From <b>Task Manager</b>, kill two of the running 
			<b>ESFAMProcess.exe</b> instances.
			<li>Confirm that the remaining <b>ESFAMProcess.exe</b> instances 
			continue to run.</li>
		</ul>
		<li><b>Stop the service after killing FPS files</b>
		<ul>
			<li>Continuing the above test, <b>Stop</b> the <b>Extract Systems 
			FAM service</b> service from the Services management console.
			<li>Confirm that each running <b>ESFAMProcess.exe</b> instance 
			finishes processing the active files and then stops gracefully.</li>
		</ul>
		<li><b>Restart the stopped service</b>
		<ul>
			<li>Continuing the above test, <b>Start</b> the <b>Extract Systems 
			FAM service</b> service from the Services management console.
			<li>Confirm that each of the original four or more FPS files start 
			processing files.</li>
		</ul>
<p>
		<li><b>Run multiple FPS files, then gracefully restart the machine</b>
		<ul>
			<li>Confirm on the database machine that the database is clear.
			<li>Create four or more FPS files configured for AutoStart.
			<li>Set the service startup type to <b>Automatic</b>.
			<li>Restart the <b>service machine</b>.</li>
			<li>Confirm that files are processing.</li>
			<li><b>Restart</b> the test machine from the Start menu.
			<li>Confirm that the <b>ESFAMProcess.exe</b> instances 
			gracefully finish their processing.</li>
			<li>Confirm that files are processing normally after restart.</li>
			<li>Confirm that if files were stuck in <b>Processing</b> mode 
			during the restart, that they automatically revert to 
			<b>Pending</b> mode.</li>
		</ul>
<p>
		<li><b>Run multiple FPS files, then ungracefully restart the machine</b>
		<ul>
			<li>Confirm on the database machine that the database is clear.
			<li>Create four or more FPS files configured for AutoStart.
			<li>Set the service startup type to <b>Automatic</b>.
			<li>Restart the <b>service machine</b>.</li>
			<li>Confirm that files are processing.</li>
			<li><b>Restart</b> the test machine by cycling power.
			<li>Confirm that files are processing normally after restart.</li>
			<li>Confirm that files stuck in <b>Processing</b> mode during the 
			restart automatically revert to <b>Pending</b> mode.</li>
		</ul>
	</ul>
	</li>
</ul>
</body> 
</html>
