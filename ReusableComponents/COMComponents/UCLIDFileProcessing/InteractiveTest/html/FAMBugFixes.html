<html>
<head>
<title>FAM Bug Fixes Testing Checklist</title>
    <link type="text/css" rel="stylesheet" href="../../../../../ReusableComponents/COMComponents/UCLIDTestingFramework/Misc/UCLIDTesting.css">
</head>

<body>

<h1>FAM Bug Fixes Testing Checklist<br>
<IMG src="../../../../../ReusableComponents/COMComponents/UCLIDTestingFramework/Misc/TestingChecklistHeader.gif">
</h1>	
<hr>

<ul>
    <LI><b>[FlexIDSCore #3073]</b> Running rule set causes FAM to crash
    <!-- fixed v 6.0.0.77c -->
    <ul>
        <li>Prepare a test database</li>
        <li>Modify the associated Crash.fps</li>
        <li>Queue the associated MTG image</li>
        <li>Exercise the associated RSD file</li>
        <li>Confirm that the FAM <b>does not</b> crash.</li>
    </ul></li>
<p>
    <li><h2>[LegacyRC #3473] - Thread exits with exception</h2>
    <ul>
        <LI><b>Test #1</b> - Invalid task id
        <ul>
            <li>Create a <b>Queuing</b> FPS file to listen to a specific folder.</li>
            <li>Create a <b>Processing</b> FPS file to OCR images and execute rules for the
            supplied images.</li>
            <li>Set the size of the <b>History</b> to 10 files.</li>
            <li>Supply and Process <b>2</b> files.</li>
            <li>Supply and Process <b>6</b> more files.</li>
            <li>Supply and Process the original <b>2</b> files again.</li>
            <li>Supply and Process <b>15</b> new files.</li>
            <li>Errors are expected as the second processing instances of the original 2 files are
            removed from the history queue.  This should happen as the 9th and 10th of the new
            files are going through processing.</li>
<p>
            <li>Exercise the scenario on a stock <b>7.0.0.39</b> installation.</li>
            <li>Confirm that <b>ELI24633</b> exceptions were seen with Debug information as 
            <b>LastCodePos = MLI02389.520</b>.</li>
            <li>Exercise the scenario on a <b>7.0.0.39 + Hotfix #3</b> installation.</li>
            <li>Confirm that processing finishes without error.  An Application Trace exception
            should be logged for <b>ELI25353 - Task id not found in map.</b></li>
        </ul></li>
<p>
        <LI><b>Test #2</b> - File removed from history list while being processed
        <ul>
            <li>Create a <b>Queuing</b> FPS file to listen to a specific folder.</li>
            <li>Create a <b>Processing</b> FPS file to OCR images and execute rules for the
            supplied images.</li>
            <li>Set the size of the <b>History</b> to 10 files.</li>
            <li>Supply and Process <b>9</b> small files plus <b>1</b> relatively large file.</li>
            <li>Supply and Process <b>9</b> new files.  This causes the slow file to be the next
            file to be removed from the <b>History</b> collection.</li>
            <li>Resupply and reprocess the same large file <b>1</b> more time.</li>
            <li>While the large file is processing, supply <b>4</b> more files from the original
            set.</li>
            <li>As the first of these original files finishes processing, the history record for
            the large file will be removed.  Errors will be logged (frequently) each time status
            updates are attempted.</li>
<p>
            <li>Exercise the scenario on a stock <b>7.0.0.39</b> installation.</li>
            <li>Confirm that lots of <b>Invalid task id</b> exceptions were seen.</li>
            <li>Exercise the scenario on a <b>7.0.0.39 + Hotfix #3</b> installation.</li>
            <li>Confirm that processing finishes without error.  An Application Trace exception
            should be logged for <b>ELI25355 - Task cannot be removed.</b></li>
        </ul></li>
<p>
        <LI><b>Test #3</b> - File removed from history list while in Pending state
        <ul>
            <li>Create a <b>Queuing</b> FPS file to listen to a specific folder.</li>
            <li>Create a <b>Processing</b> FPS file to OCR images and execute rules for the
            supplied images.</li>
            <li>Set the size of the <b>History</b> to 10 files.</li>
            <li>Supply and Process <b>4</b> files.</li>
            <li>Supply and Process <b>5</b> different files.</li>
            <li>Resupply and reprocess the same <b>5</b> files.  This will finish filling the
            history collection and remove the first four files from the history.</li>
            <li>Supply and Process <b>4</b> relatively large files where OCR and rule execution
            take about one minute.</li>
            <li>While the slow files are processing, resupply and reprocess the previous <b>9</b>
            files.  This is expected to cause the first four files to begin processing first since
            those have smaller file IDs.</li>
            <li>As the first four files finish processing, they will push history entries off for 
            the next five files.  Since these files are in <b>Pending</b> state, each thread will
            try and fail to transition the file to <b>Processing</b>.</li>
            <li>Note that this scenario is difficult to set up due to files being provided for
            processing in an uncertain order.</li>
<p>
            <li>Exercise the scenario on a stock <b>7.0.0.39</b> installation.</li>
            <li>Confirm that each thread fails and stops processing.</li>
            <li>Exercise the scenario on a <b>7.0.0.39 + Hotfix #3</b> installation.</li>
            <li>Confirm that processing finishes without error. </li>
        </ul></li>
    </ul></li>
<p>
    <LI><b>[FlexIDSCore #3983, LegacyRC #5741]</b> Stop processing after Pause and Unpause
    <ul>
        <li>Configure a verification FPS file.</li>
        <li>Confirm that processing can be paused.</li>
        <li>Confirm that processing can be unpaused.</li>
        <li>Confirm that processing can be stopped from the FAM.</li>
        <li>Confirm that FAM toolbar buttons are properly enabled and disabled 
        during this test.</li>
    </ul></li>
<p>
    <LI><b>[LegacyRC #5478]</b> Processing all skipped files when only queuing
    <ul>
        <li>Prepare an FPS file to queue files and to process files skipped by <b>all 
        users</b>.</li>
        <li>Uncheck the <b>Process files</b> box on the <b>Action</b> tab.</li>
        <li>Start queuing files.</li>
        <li>Confirm that the <b>DB Login</b> dialog <b>is not</b> presented.</li>
        <li>Confirm that queuing files is allowed.</li>
    </ul></li>
<p>
    <LI><b>[LegacyRC #5508, #5514]</b> Process files after crash
    <ul>
        <li>Create an FPS file to process some files.</li>
        <li>Kill <b>ProcessFiles.exe</b> from the Task Manager.</li>
        <li>Reset the <b>Processing</b> files to <b>Pending</b> using DB Admin.</li>
        <li>Reopen the FPS file and continue processing images.</li>
        <li>Confirm that processing continues without error.</li>
    </ul></li>
<p>
    <LI><b>[LegacyRC #5584, #5596, #5675]</b> Related Vista O/S problems
    <ul>
        <LI>Confirm that a <b>GetFullUserName.exe</b> application is available in the
        CommonComponents folder.</li>
        <LI>Exercise OCR for the sample image in 
        <b>I:\Common\Testing\PVCS_Testing\LegacyRC\5584</b>.  Confirm that an <b>SSOCR2 Module has
        stopped working</b> message is not displayed.</li>
        <li>Exercise the <b>Convert to searchable PDF</b> task on a document that does not exist
        such as <b>&lt;SourceDocName&gt;.noexist</b>.</li>
        <li>Confirm that an <b>ELI18550: Invalid filename.  Input file must be readable</b> 
        exception is not seen.</li>
    </ul></li>
<p>
    <LI><b>[LegacyRC #5628]</b> Creating very long tags
    <ul>
        <LI>Confirm that <b>AutoDynamicTagCreation=1</b> within DBInfo.</li>
        <li>Verify an image.</li>
        <LI>Confirm that a long tag can be created and applied.</li>
        <LI>Confirm that the tag length is limited to <b>100</b> characters.</li>
        <li>Confirm that the tag description is limited to <b>255</b> characters.</li>
    </ul></li>
<p>
    <LI><b>[LegacyRC #5649, #5656]</b> Deleting automatically created actions
    <ul>
        <li>Execute an FPS file such that an action is automatically created.</li>
        <li>Process some files using the automatically created action.</li>
        <li>Confirm that the action can be deleted.</li>
    </ul></li>
<p>
    <LI><b>[LegacyRC #5660]</b> Failure in Core: Convert to searchable PDF
    <ul>
        <LI>Exercise the task for the sample image in 
        <b>I:\Common\Testing\PVCS_Testing\LegacyRC\5660</b>.</li>
        <li>Confirm that the file cannot be converted to a searchable PDF.</li>
        <li>Confirm that the exception log can be opened in the <b>UEX Viewer</b>.</li>
    </ul></li>
<p>
    <LI><b>[LegacyRC #5661]</b> Simultaneous queuing and processing
    <ul>
        <LI>Create an FPS file to both queue and process files.</li>
        <LI>Confirm that the <b>Recent queue events</b> grid displays all of the files.</li>
        <LI>Confirm that the <b>Files added or updated in the queue</b> grid displays all of the
        files.</li>
    </ul></li>
<p>
    <LI><b>[LegacyRC #5687]</b> Set file action status on pre-queued files
    <ul>
        <li>Queue some files.</li>
        <li>Prepare an FPS file to set file action status.</li>
        <li>Confirm that <b>ELI14775: Unable to obtain DB schema version</b> is not seen for the 
        first file.</li>
    </ul></li>
<p>
    <LI><b>[LegacyRC #5715]</b> Cancellable tasks and scheduled processing
    <ul>
        <li>Configure an FPS file with a sleep task and a set file action status task.</li>
        <li>Also configure the FPS file to use scheduled processing.</li>
        <li>Confirm that if processing transitions to inactive during a sleep task, that the 
        associated set file action status task is <b>not</b> executed.</li>
        <li>Confirm that processing transitions back to active as expected.</li>
    </ul></li>
<p>
    <LI><b>[FlexIDSCore #4113]</b> Queuing and processing
    <ul>
        <li>Create an FPS file that both queues and processes files.</li>
        <li>Confirm that the first file queued is displayed in the <b>Queue Log</b>.</li>
    </ul></li>
<p>        
    <li><b>[LegacyRC #5610]</b> FAM processing threads must grab file before stopping
    <ul>
        <li>Create a database and enqueue a small (~20) number of files.</li>
        <li>Configure an .fps file with a verification task. Set it up to use a large number of
        threads to processing (at least twice as many threads as there are files to process).</li>
        <li>Start processing, then immediately stop.</li>
        <li>Confirm that processing stops immediately and that the initially idle threads do not
        have to grab files first.</li>
    </ul></li>
<p>    
    <li><b>[LegacyRC #5835]</b> FAM pause button
    <!-- fixed v 8.1.0.18 -->
    <ul>
        <li>Set up an .fps file with at least one processing task and a number of files already
        queued.</li>
        <li>Press the play button and then (as quickly as possible) hit the pause button.</li>
        <li>Confirm that processing is correctly paused.</li>
    </ul></li>
<p>
    <li><b>[LegacyRC #5922]</b> Processing with multiple FAMs
    <ul>
        <li>Queue several copies of the ID Shield demo images.</li>
        <li>Modify <b>Compute Redactions.fps</b> to include a 20 second sleep and no queueing.</li>
        <li>Open and run 5 instances of Compute Redactions.fps.</li>
        <li>Confirm that no deadlock exceptions are seen.</li>
    </ul></li>
<p>
    <li><b>[LegacyRC #5923]</b> Processing and queueing with multiple FAMs
    <ul>
        <li>Create several copies of the ID Shield demo images.</li>
        <li>Add a 20 second sleep to <b>Compute Redactions.fps</b>.</li>
        <li>Open <b>5</b> instances of Compute Redactions.fps. Disable queueing in <b>4</b> of
        them.</li>
        <li>Run all 5. When processing has finished, confirm that the summary tab of the DB Admin
        displays the correct statistics.</li>
    <p>
        <li>Reset all files to pending.</li>
        <li>Create a single FAM instance with a single "Set file action status in db" task.</li>
        <li>Run that FAM. While it is running, refresh the summary tab of the DB Admin.</li>
        <li>Confirm that the statistics are correctly reported when processing has finished.</li>
    </ul></li>
<p>
    <li><b>[LegacyRC #5924]</b> Queueing from multiple FAMs
    <ul>
        <li>Create a folder containing ~10,000 images.</li>
        <li>Open 6 FAM instances configured to queue all the images in the image folder to the same
        database.</li>
        <li>Run them all. Confirm that all files are queued and no errors are seen.</li>
    <p>
        <li>Clear the database.</li>
        <li>Configure 3 FAM instances to queue distinct subsets of the images to the same 
        database.</li>
        <li>Run them all. Confirm that all files are queued and no errors are seen.</li>
    </ul></li>
<p>
    <li><b>[LegacyRC #5926]</b> More database testing
    <ul>
        <li>Set up a database and FPS file with enough files queued to process for a couple 
        hours.</li>
        <Li>Confirm that no unusual errors are seen processing with multiple FAM instances on the
        same machine using the same database.</li>
        <li>Confirm that no unusual errors are seen processing with multiple FAM instances on the
        same machine using different databases.</li>
        <li>Confirm that no unusual errors are seen processing with multiple FAM instances on
        separate test machines pointing at the same database.</li>
    </ul></li>
</ul>
</body> 
</html>
