<HTML>
	<HEAD>
		<TITLE>Modify Attributes</TITLE>
		<link type="text/css" rel="stylesheet" href="../UCLIDTesting.css">
	</HEAD>
	<BODY>
		<h1>Modify Attributes Output Handler</h1>
		<hr>
		<h3>Uses</h3>
		<ul>
			<li>The Modify Attributes output handler is used to change the name, value, or type of the queried attribute.</li>
			<li>It can also be used to create sub-attributes.</li>
		</ul>
		<hr>
		<h3>Usage</h3>
			<ul>
				<li>To use the Modify Attributes output handler, you must first query the attributes that you wish to modify.
					<ul>
                        <li>To do this enter your query into the builtin <a href="../Selectors/QueryAttribute.html">Query Attribute Selector</a>.</li>
					</ul>
				</li>
				<li>To modify the selected attribute, select the <b>Modify each selected attribute</b> option.</li>
					<ul>
						<li>You can change the name, value, or type of the attribute by checking the appropriate box.</li>
					</ul>
				</li>
				<li>To create a new sub-attribute for the selected attribute, select the <b>Create a new sub-attribute for each attribute</b> option.</li>
					<ul>
						<li>You must give the new sub-attribute a name.</li>
						<li>You can also give the new sub-attribute a type and/or value.</li>
					</ul>
				</li>
                <li>When changing the value of an attribute or defining the value while creating a new sub-attribute, there are a few special variables at your disposal:
					<ul>
						<li><b>%Value%</b>, will be replaced by the value of the queired attribute when the rules are run.</li>
						<li><b>%<i>Name</i>%</b>, will be replaced by the value of the <i>Name</i> sub-attribute of the queired attribute.  If the <i>Name</i> sub-attribute does not exist, the value of the entire attribute will be changes to a empty string.
                            <ul>
                                <li>For example, open <i>ModifyPhone.rsd</i> and run it on <i>ModifyPhone.txt</i>.</li>
                                <li>Notice that all the found <i>PhoneNumber</i> attributes have a <i>Number</i> sub-attribute, but only some of them have a <i>AreaCode</i> sub-attribute.</li>
                                <li>Create a Modify Attributes output handler that changes the value of <i>PhoneNumber</i> attribute to <b>%Number%</b>.</li>
                                <li>Run the rules again, note that <i>PhoneNumber</i> now contains the value of the <i>Number</i> sub-attribute.</li>
                                <li>Alter the Modify Attributes output handler that you just created so that it changes the value of the <i>PhoneNumber</i> to <b>(%AreaCode%) %Number%</b>.</li>
                                <li>Run the rules again, note that <i>PhoneNumber</i> attributes that have <i>AreaCode</i> sub-attributes now contain the value of the <i>AreaCode</i> sub-attribute in parens followed by the value of the <i>Number</i> sub-attribute. Also note that the <i>PhoneNumber</i> attribute that did not have a <i>AreaCode</i> sub-attribute is now blank.</li>
                            </ul>
                        </li>
                        <li>When using a sub-attribute variable, you can make the variable optional by using the <b>&#060 </b>and <b>&#062 </b> operators.
                            <ul>
                                <li>For example, remove any output handlers from <i>ModifyPhone.rsd</i> and run it on <i>ModifyPhone.txt</i>.</li>
                                <li>Add a Modify Attributes output handler that changes the value of <i>PhoneNumber</i> to be <b>&#060(%AreaCode%)&#062%Number%</b>.</li>
                                <li>Run the rules again. Notice that this time, the <i>PhoneNumber</i> attribute that does not have a <i>AreaCode</i> sub-attribute an is not blank: Instead it contains just the value of the <i>Number</i> sub-attribute.</li>
                            </ul>
                        </li>
					</ul>
				</li>
			</ul>
		<hr>
		<h3>Exercises</h3>
			<p>
				<ol>
					<li>Open <b>PartyNames.rsd</b> and run it on <b>PartyNames.txt</b>.  Note how the attributes are named.</li>
						<ul>
							<li>Use a Modify Attributes output handler to change the name of both the <i>Buyer</i> and <i>Seller</i> attributes to <i>Party</i>.</li>
							<li>Use two Modify Attributes output handlers to change the output so that the all of the attributes are named "Party", but the sellers have a type of <i>Seller</i> and the buyers have a type of <i>Buyer</i>.</li>
						</ul>
					</li>
					<p>
						<li>Delete all output handlers from <b>PartyNames.rsd</b>.  Add one or more Modify Attributes output handlers to create a sub-attribute named <i>Party</i> for each attribute. The <i>Party</i> sub-attribute should have a value of <i>Buyer</i> for buyers and <i>Seller</i> for sellers.</li>
					</p>
					</li>
				</ol>

			</p>

	</BODY>
</HTML>
